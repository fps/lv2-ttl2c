# What?

This repository contains a little python script to make writing an LV2 plugin a little less repetitive/painful.

# Requirements:

- Python 3
- regexec, if you want to rebuild the documentation (README.md): https://github.com/fps/regexec
- valgrind and sord, if you want to run the tests

# Usage

<pre>
[usage]
</pre>

You write the turle (ttl) files describing the plugins in your bundle and the python script then generates some useful <code>#include</code>s for you. Below you see the code that's necessary to write when running the script on the amp-plugin example from the lv2 distribution (included here for reference and testing in the <code>lv2/</code> directory)

```C
[include eg_amp.c]
```

# How?

Per plugin a <code>basename</code> is generated by splitting the plugin URI by path separators and just using the last part of the path. Some characters are replaced to make valid C identifiers. In the example <code>http://lv2plug.in/plugins/eg-amp</code> thus becomes <code>eg_amp</code>. The generated source and header file names then get constructed as <code>ttl2c_${basename}.[h|c]</code>.

# An example with state

This example can be found in the file `eg_exp.c`.

```C
[include eg_exp.c]
```

# An example processing some MIDI

This example can be found in the file `eg_midigate.c`.

```C
[include eg_midigate.c]
```

# Makefile

Here is the makefile included with this project used to build and test the generated source:

```make
[include makefile]
```

# Generated files

For reference here are the two generated files for the second example:

`ttl2c_eg_exp.h`:

```C
[include generated/ttl2c_eg_exp.h]
```

`ttl2c_eg_exp.c`:

```C
[include generated/ttl2c_eg_exp.c]
```


# License

Gnu GPL v3

